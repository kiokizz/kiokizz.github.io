<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>SplinterStats - Validators</title>
    <link rel="shortcut icon" href="resources/rose.jpg"/>
    <link rel="stylesheet" type="text/css" href="validators/validators.css">
    <script src="https://cdn.jsdelivr.net/npm/axios@1.1.2/dist/axios.min.js"></script>
    <script src="validators/validator_api.js"></script>
    <script src="validators/validators.js"></script>
    <script src="scripts/log_in.js"></script>

    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://www.w3schools.com/lib/w3-theme-blue-grey.css">
    <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

</head>
<body>

<!-- Navbar -->
<div>
    <div id="header" class="w3-theme w3-left-align w3-large">
        <div class="w3-container w3-margin-bottom">
            <h1><a href='index.html'>SplinterStats</a> - Validators</h1>
            <sub>View SPS Chain validators and Vote for your selected 10 <br>(Hive Keychain required for voting) </sub>
            <!--            <img src="/resources/hive_keychain_logo.png" alt="Hive Keychain Logo"  width="40" height="40" class="width: fit-content; margin-left: auto;>-->
        </div>
        <div class="" id="nav_div"></div>
        <script src="scripts/navigation_loader.js" defer></script>
    </div>
</div>

<!-- Main Body -->
<div id="main" class="main w3-padding w3-left">
    <h2>Intro</h2>
    <div>
        <p style="max-width: 1000px">Validators for the SPS Chain, a Delegated Proof of Stake (DPoS) side chain ran on the Hive Blockchain.
            Each Splinterlands account receives 10 votes weighted at 100% of their staked SPS to vote towards validators.
            For more information regarding Validators see the <a href="https://sps.splinterlands.com/sps-chain/">SPS Whitepaper</a>
        </p>
        <p  style="max-width: 1000px" id="intro_stats"></p>
    </div>
    <h2>Validators</h2>

    <div id="validators_table">Loading data..</div>

    <!-- Log in Modal -->
    <div id="login_modal" class="modal">
        <div class="modal-content">
            <span class="close">&times;</span>
            <p id="login_status">Login coming soon.</p>
            <label>Player (without @): </label>
            <input class="w3-input w3-border" type="text" id="username" value="" placeholder="username">
            <button id="login_btn" class="w3-button w3-theme">Log In</button>
        </div>
    </div>

</div>

<script>
  document.addEventListener("DOMContentLoaded", async () => {
    console.log(`***Load Validators***`)
    await validator_api.get_validators()
    console.log(`***Load Table***`)
    await load_table()
    console.log(`***Load API Status***`)
    console.log(`***Load Intro Stats***`)
    get_api_statuses()
    if (getLoginCookie()){
      console.log(`***Load User's Votes***`)
      await show_user_votes()
    }
    load_intro_stats()
  });
</script>

<footer id="footer" class="w3-row">
    <script src="scripts/footer_loader.js" defer></script>
    <div class="" id="footer_div"></div>
</footer>

<!-- END MAIN -->
</div>

</body>
</html>